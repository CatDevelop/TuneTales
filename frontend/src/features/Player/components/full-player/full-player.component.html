<div
    class="player"
    *ngIf="playerWindow === 'full'"
    [ngStyle]="{'background': 'linear-gradient(180deg, ' + backgrondColor + ' 0%, #fff 50%)'}">

    <app-button
        class="player__back_button"
        (eventClick)="togglePlayerWindow()"
        width=18
        height=24
        imageUrl="./assets/back-button.svg"/>


    <div class="player__image_container">
        <img class="player__image_book" id="bookImage" [src]="imageUrl" alt="Обложка книги"/>
    </div>

    <div class="player__about">
        <p class="player__about_title">{{ nameChapter }}</p>
        <p class="player__about_name">{{ nameBook }}</p>
    </div>

    <app-slider-rewind
        [startTime]="readableCurrentTime"
        [endTime]="readableDuration"
        [currentTime]="currentTime"
        [maxTime]="duration"
        (valueChange)="onSliderChangeEnd($event)"
    />

    <div class="player__controls">
        <div class="player__controls_wrapper">
            <app-rewind-arrow (eventClick)="audioRewindBack($event)" type="left"/>
            <app-play-button
                [activeButton]="playing"
                (eventClick)="playing ? pause() : play()"
            />
            <app-rewind-arrow (eventClick)="audioRewindNext($event)" type="right"/>
        </div>
    </div>

    <div class="player__tools">
        <app-speed-button (valueChanged)="speed($event)" [speedButtonState]="speedButton"/>
        <app-sleep-timer (valueChanged)="sleepTimer($event)" [sleepTimerState]="sleepTimerButton"/>
        <app-button (eventClick)="toggleChapter()" width=23 height=17 imageUrl="./assets/selectChapter-button.svg"/>
    </div>

    <app-chapters
        *ngIf="chapterWindow"
        [files]="files"
        [currentIndexFile]="currentFile"
        (valueChanged)="openFile($event.file, $event.index)"
        (stateChapterChanged)="toggleChapter()"
    ></app-chapters>
</div>
