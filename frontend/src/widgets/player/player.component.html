<div class="container">
    <app-button class="back-button" (eventClick)="toggleChapter()" width=18 height=24 imageUrl="./assets/back-button.svg"/>

    <img src="/assets/book.png"/>

    <div class="about">
        <p class="about-title">{{ currentFile?.file?.name}}</p>
        <p class="about-name">Стеллар. Трибут</p>
    </div>

    <app-slider-rewind
        startTime="{{ state.readableCurrentTime || '00:00' }}"
        endTime="{{ state.readableDuration || '00:00' }}"
        [currentTime]="state.currentTime || 0"
        [maxTime]="state.duration || 0"
        (valueChange)="onSliderChangeEnd($event)"
    />

    <div class="controls">
        <div class="controls_wrapper">
            <app-toggle-rewind (click)="audioRewindBack(15)" type="left"/>
            <app-togle-play
                [activeButtonState]="this.state.playing || false"
                (playEvent)="play()"
                (pauseEvent)="pause()"/>
            <app-toggle-rewind (click)="audioRewindNext(15)" type="right"/>
        </div>
    </div>

    <div class="container-tools">
        <app-speed-button (valueChanged)="speed($event)" [speedButtonState]="speedButtonState"></app-speed-button>
        <app-sleep-timer (valueChanged)="sleepTimer($event)" [sleepTimerState]="sleepTimerState"></app-sleep-timer>
        <app-button (eventClick)="toggleChapter()" width=23 height=17 imageUrl="./assets/selectChapter-button.svg"/>
    </div>


    <app-chapters
        *ngIf="chapterWindowState"
        [files]="files"
        [currentIndexFile]="currentFile.index"
        (valueChanged)="openFile($event.file, $event.index)"
        (stateChapterChanged)="toggleChapter()"
></app-chapters>
</div>
